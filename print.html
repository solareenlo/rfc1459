<!DOCTYPE HTML>
<html lang="ja" class="sidebar-visible no-js light">
    <head>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-200.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-300.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-500.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-600.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-700.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-900.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-regular.woff2" crossorigin>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>rfc1459</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <link rel="stylesheet" href="fonts/font.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/theme/solarized-light-hljs.css">
        <link rel="stylesheet" href="src/theme/solarized-dark-hljs.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Home</a></li><li class="chapter-item expanded "><a href="introduction/index.html"><strong aria-hidden="true">1.</strong> 序説</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="introduction/servers.html"><strong aria-hidden="true">1.1.</strong> サーバ</a></li><li class="chapter-item expanded "><a href="introduction/clients.html"><strong aria-hidden="true">1.2.</strong> クライアント</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="introduction/operators.html"><strong aria-hidden="true">1.2.1.</strong> オペレータ</a></li></ol></li><li class="chapter-item expanded "><a href="introduction/channels.html"><strong aria-hidden="true">1.3.</strong> チャネル</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="introduction/channel-operators.html"><strong aria-hidden="true">1.3.1.</strong> チャネルオペレータ</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="the-irc-specification/index.html"><strong aria-hidden="true">2.</strong> IRC の規格</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-irc-specification/overview.html"><strong aria-hidden="true">2.1.</strong> 概要</a></li><li class="chapter-item expanded "><a href="the-irc-specification/character-codes.html"><strong aria-hidden="true">2.2.</strong> 文字コード</a></li><li class="chapter-item expanded "><a href="the-irc-specification/messages.html"><strong aria-hidden="true">2.3.</strong> メッセージ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the-irc-specification/message-format-in-pseudo-bnf.html"><strong aria-hidden="true">2.3.1.</strong> 疑似 BNF によるメッセージ形式</a></li></ol></li><li class="chapter-item expanded "><a href="the-irc-specification/numeric-replies.html"><strong aria-hidden="true">2.4.</strong> 数値返信</a></li></ol></li><li class="chapter-item expanded "><a href="irc-concepts/index.html"><strong aria-hidden="true">3.</strong> IRC コンセプト</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-concepts/one-to-one-communication.html"><strong aria-hidden="true">3.1.</strong> 1対1のコミュニケーション</a></li><li class="chapter-item expanded "><a href="irc-concepts/one-to-many.html"><strong aria-hidden="true">3.2.</strong> 1対多</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-concepts/to-a-list.html"><strong aria-hidden="true">3.2.1.</strong> 1対リスト</a></li><li class="chapter-item expanded "><a href="irc-concepts/to-a-group-channel.html"><strong aria-hidden="true">3.2.2.</strong> 1対グループ（チャネル）</a></li><li class="chapter-item expanded "><a href="irc-concepts/to-a-hostserver-mask.html"><strong aria-hidden="true">3.2.3.</strong> 1対ホスト/サーバーマスク</a></li></ol></li><li class="chapter-item expanded "><a href="irc-concepts/one-to-all.html"><strong aria-hidden="true">3.3.</strong> 1対全</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="irc-concepts/client-to-client.html"><strong aria-hidden="true">3.3.1.</strong> クライアント対全クライアント</a></li><li class="chapter-item expanded "><a href="irc-concepts/client-to-server.html"><strong aria-hidden="true">3.3.2.</strong> クライアント対サーバ</a></li><li class="chapter-item expanded "><a href="irc-concepts/server-to-server.html"><strong aria-hidden="true">3.3.3.</strong> サーバ対サーバ</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="message-details/index.html"><strong aria-hidden="true">4.</strong> メッセージ詳細</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/connection-registration.html"><strong aria-hidden="true">4.1.</strong> 接続登録</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/password-message.html"><strong aria-hidden="true">4.1.1.</strong> パスワードメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/nickname-message.html"><strong aria-hidden="true">4.1.2.</strong> ニックネームメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/user-message.html"><strong aria-hidden="true">4.1.3.</strong> ユーザメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/server-message.html"><strong aria-hidden="true">4.1.4.</strong> サーバメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/oper.html"><strong aria-hidden="true">4.1.5.</strong> オペレータメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/quit-message.html"><strong aria-hidden="true">4.1.6.</strong> 終了メッセージ</a></li><li class="chapter-item expanded "><a href="message-details/server-quit-message.html"><strong aria-hidden="true">4.1.7.</strong> サーバ終了メッセージ</a></li></ol></li><li class="chapter-item expanded "><a href="message-details/channel-operations.html"><strong aria-hidden="true">4.2.</strong> チャネル操作</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/join-message.html"><strong aria-hidden="true">4.2.1.</strong> 参加メッセージ</a></li><li class="chapter-item expanded "><a href="message-details/part-message.html"><strong aria-hidden="true">4.2.2.</strong> パートメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/mode-message.html"><strong aria-hidden="true">4.2.3.</strong> モードメッセージ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/channel-modes.html"><strong aria-hidden="true">4.2.3.1.</strong> チャネルモード</a></li><li class="chapter-item expanded "><a href="message-details/user-modes.html"><strong aria-hidden="true">4.2.3.2.</strong> ユーザモード</a></li></ol></li><li class="chapter-item expanded "><a href="message-details/topic-message.html"><strong aria-hidden="true">4.2.4.</strong> トピックメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/names-message.html"><strong aria-hidden="true">4.2.5.</strong> ネームメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/list-message.html"><strong aria-hidden="true">4.2.6.</strong> リストメッセージ</a></li><li class="chapter-item expanded "><a href="message-details/invite-message.html"><strong aria-hidden="true">4.2.7.</strong> 招待メッセージ</a></li><li class="chapter-item expanded "><a href="message-details/kick-message.html"><strong aria-hidden="true">4.2.8.</strong> 追放メッセージ</a></li></ol></li><li class="chapter-item expanded "><a href="message-details/server-queries-and-commands.html"><strong aria-hidden="true">4.3.</strong> Server queries and commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/version-message.html"><strong aria-hidden="true">4.3.1.</strong> Version message</a></li><li class="chapter-item expanded "><a href="message-details/stats-message.html"><strong aria-hidden="true">4.3.2.</strong> Stats message</a></li><li class="chapter-item expanded "><a href="message-details/links-message.html"><strong aria-hidden="true">4.3.3.</strong> Links message</a></li><li class="chapter-item expanded "><a href="message-details/time-message.html"><strong aria-hidden="true">4.3.4.</strong> Time message</a></li><li class="chapter-item expanded "><a href="message-details/connect-message.html"><strong aria-hidden="true">4.3.5.</strong> Connect message</a></li><li class="chapter-item expanded "><a href="message-details/trace-message.html"><strong aria-hidden="true">4.3.6.</strong> Trace message</a></li><li class="chapter-item expanded "><a href="message-details/admin-command.html"><strong aria-hidden="true">4.3.7.</strong> Admin command</a></li><li class="chapter-item expanded "><a href="message-details/info-command.html"><strong aria-hidden="true">4.3.8.</strong> Info command</a></li></ol></li><li class="chapter-item expanded "><a href="message-details/sending-messages.html"><strong aria-hidden="true">4.4.</strong> Sending messages</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/private-messages.html"><strong aria-hidden="true">4.4.1.</strong> Private messages</a></li><li class="chapter-item expanded "><a href="message-details/notice.html"><strong aria-hidden="true">4.4.2.</strong> Notice</a></li></ol></li><li class="chapter-item expanded "><a href="message-details/user-based-queries.html"><strong aria-hidden="true">4.5.</strong> User based queries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/who-query.html"><strong aria-hidden="true">4.5.1.</strong> Who query</a></li><li class="chapter-item expanded "><a href="message-details/whois-query.html"><strong aria-hidden="true">4.5.2.</strong> Whois query</a></li><li class="chapter-item expanded "><a href="message-details/whowas.html"><strong aria-hidden="true">4.5.3.</strong> Whowas</a></li></ol></li><li class="chapter-item expanded "><a href="message-details/miscellaneous-messages.html"><strong aria-hidden="true">4.6.</strong> Miscellaneous messages</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="message-details/kill-message.html"><strong aria-hidden="true">4.6.1.</strong> Kill message</a></li><li class="chapter-item expanded "><a href="message-details/ping-message.html"><strong aria-hidden="true">4.6.2.</strong> Ping message</a></li><li class="chapter-item expanded "><a href="message-details/pong-message.html"><strong aria-hidden="true">4.6.3.</strong> Pong message</a></li><li class="chapter-item expanded "><a href="message-details/error.html"><strong aria-hidden="true">4.6.4.</strong> Error</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="optionals/index.html"><strong aria-hidden="true">5.</strong> OPTIONALS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="optionals/away.html"><strong aria-hidden="true">5.1.</strong> Away</a></li><li class="chapter-item expanded "><a href="optionals/rehash-message.html"><strong aria-hidden="true">5.2.</strong> Rehash message</a></li><li class="chapter-item expanded "><a href="optionals/restart-message.html"><strong aria-hidden="true">5.3.</strong> Restart message</a></li><li class="chapter-item expanded "><a href="optionals/summon-message.html"><strong aria-hidden="true">5.4.</strong> Summon message</a></li><li class="chapter-item expanded "><a href="optionals/users.html"><strong aria-hidden="true">5.5.</strong> Users</a></li><li class="chapter-item expanded "><a href="optionals/operwall-message.html"><strong aria-hidden="true">5.6.</strong> Operwall message</a></li><li class="chapter-item expanded "><a href="optionals/userhost-message.html"><strong aria-hidden="true">5.7.</strong> Userhost message</a></li><li class="chapter-item expanded "><a href="optionals/ison-message.html"><strong aria-hidden="true">5.8.</strong> Ison message</a></li></ol></li><li class="chapter-item expanded "><a href="replies/index.html"><strong aria-hidden="true">6.</strong> 返信</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="replies/error-replies.html"><strong aria-hidden="true">6.1.</strong> Error Replies.</a></li><li class="chapter-item expanded "><a href="replies/command-responses.html"><strong aria-hidden="true">6.2.</strong> Command responses.</a></li><li class="chapter-item expanded "><a href="replies/reserved-numerics.html"><strong aria-hidden="true">6.3.</strong> Reserved numerics.</a></li></ol></li><li class="chapter-item expanded "><a href="client-and-server-authentication/index.html"><strong aria-hidden="true">7.</strong> クライアントとサーバーの認証</a></li><li class="chapter-item expanded "><a href="current-implementations/index.html"><strong aria-hidden="true">8.</strong> Current implementations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/network-protocol--tcp---why-it-is-best-used-here.html"><strong aria-hidden="true">8.1.</strong> Network protocol: TCP - why it is best used here.</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/support-of-unix-sockets.html"><strong aria-hidden="true">8.1.1.</strong> Support of Unix sockets</a></li></ol></li><li class="chapter-item expanded "><a href="current-implementations/command-parsing.html"><strong aria-hidden="true">8.2.</strong> Command Parsing</a></li><li class="chapter-item expanded "><a href="current-implementations/message-delivery.html"><strong aria-hidden="true">8.3.</strong> Message delivery</a></li><li class="chapter-item expanded "><a href="current-implementations/connection--liveness-.html"><strong aria-hidden="true">8.4.</strong> Connection ’Liveness’</a></li><li class="chapter-item expanded "><a href="current-implementations/establishing-a-server-to-client-connection.html"><strong aria-hidden="true">8.5.</strong> Establishing a server to client connection</a></li><li class="chapter-item expanded "><a href="current-implementations/establishing-a-server-server-connection.html"><strong aria-hidden="true">8.6.</strong> Establishing a server-server connection.</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/server-exchange-of-state-information-when-connecting.html"><strong aria-hidden="true">8.6.1.</strong> Server exchange of state information when connecting</a></li></ol></li><li class="chapter-item expanded "><a href="current-implementations/terminating-server-client-connections.html"><strong aria-hidden="true">8.7.</strong> Terminating server-client connections</a></li><li class="chapter-item expanded "><a href="current-implementations/terminating-server-server-connections.html"><strong aria-hidden="true">8.8.</strong> Terminating server-server connections</a></li><li class="chapter-item expanded "><a href="current-implementations/tracking-nickname-changes.html"><strong aria-hidden="true">8.9.</strong> Tracking nickname changes</a></li><li class="chapter-item expanded "><a href="current-implementations/flood-control-of-clients.html"><strong aria-hidden="true">8.10.</strong> Flood control of clients</a></li><li class="chapter-item expanded "><a href="current-implementations/non-blocking-lookups.html"><strong aria-hidden="true">8.11.</strong> Non-blocking lookups</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/hostname-dns-lookups.html"><strong aria-hidden="true">8.11.1.</strong> Hostname (DNS) lookups</a></li><li class="chapter-item expanded "><a href="current-implementations/username-ident-lookups.html"><strong aria-hidden="true">8.11.2.</strong> Username (Ident) lookups</a></li></ol></li><li class="chapter-item expanded "><a href="current-implementations/configuration-file.html"><strong aria-hidden="true">8.12.</strong> Configuration File</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/allowing-clients-to-connect.html"><strong aria-hidden="true">8.12.1.</strong> Allowing clients to connect</a></li><li class="chapter-item expanded "><a href="current-implementations/8122-operators.html"><strong aria-hidden="true">8.12.2.</strong> Operators</a></li><li class="chapter-item expanded "><a href="current-implementations/allowing-servers-to-connect.html"><strong aria-hidden="true">8.12.3.</strong> Allowing servers to connect</a></li><li class="chapter-item expanded "><a href="current-implementations/administrivia.html"><strong aria-hidden="true">8.12.4.</strong> Administrivia</a></li></ol></li><li class="chapter-item expanded "><a href="current-implementations/channel-membership.html"><strong aria-hidden="true">8.13.</strong> Channel membership</a></li></ol></li><li class="chapter-item expanded "><a href="current-problems/index.html"><strong aria-hidden="true">9.</strong> Current problems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-problems/scalability.html"><strong aria-hidden="true">9.1.</strong> Scalability</a></li><li class="chapter-item expanded "><a href="current-problems/labels.html"><strong aria-hidden="true">9.2.</strong> Labels</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-problems/nicknames.html"><strong aria-hidden="true">9.2.1.</strong> Nicknames</a></li><li class="chapter-item expanded "><a href="current-problems/channels.html"><strong aria-hidden="true">9.2.2.</strong> Channels</a></li><li class="chapter-item expanded "><a href="current-problems/servers.html"><strong aria-hidden="true">9.2.3.</strong> Servers</a></li></ol></li><li class="chapter-item expanded "><a href="current-problems/algorithms.html"><strong aria-hidden="true">9.3.</strong> Algorithms</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="solarized-light">Solarized Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="solarized-dark">Solarized Dark</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">rfc1459</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/solareenlo/rfc1459" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <pre><code>Updated by: 2810, 2811, 2812, 2813, 7194                    Experimental
                                                            Errata exist
Network Working Group                                      J. Oikarinen
Request for Comments: 1459                                      D. Reed
                                                               May 1993
</code></pre>
<h1 align="center">
Internet Relay Chat Protocol
</h1>
<h2 id="本メモの位置付け"><a class="header" href="#本メモの位置付け">本メモの位置付け</a></h2>
<p>このメモでは、インターネットコミュニティのための実験的なプロトコルを定義しています。改善のための議論と提案が望まれます。このプロトコルの標準化状態やステータスについては、&quot;IAB Official Protocol Standards&quot; の最新版を参照してください。このメモの配布は無制限です。</p>
<h2 id="概要"><a class="header" href="#概要">概要</a></h2>
<p>IRC プロトコルは、BBS でユーザー同士がチャットする手段として実装されて以来、4年の歳月をかけて開発されたものです。現在では、サーバとクライアントの世界的なネットワークをサポートし、成長に対応するためにひもじい思いをしています。過去2年間で、IRC の主要ネットワークに接続しているユーザーの平均人数は10倍に増加しています。</p>
<p>IRC プロトコルはテキストベースのプロトコルであり、最も単純なクライアントはサーバに接続可能な任意のソケットプログラムです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="1-序説"><a class="header" href="#1-序説">1. 序説</a></h1>
<p>IRC（Internet Relay Chat）プロトコルは，テキストベースの会議で使用するために何年もかけて設計されています．この文書では，現在の IRC プロトコルを説明します．</p>
<p>IRC プロトコルは，TCP/IP ネットワークプロトコルを使用するシステム上で開発されましたが，このプロトコルが動作する唯一の領域である必要はありません．</p>
<p>IRC 自体は電話会議システムで，クライアント・サーバモデルを採用しているため，多くのマシンで分散して動作させるのに適しています．典型的なセットアップは，単一のプロセス（サーバ）がクライアント（または他のサーバ）が接続するための中心点を形成し，必要なメッセージの配信/多重化およびその他の機能を実行することです．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="12-サーバ"><a class="header" href="#12-サーバ">1.2 サーバ</a></h1>
<p>サーバは IRC のバックボーンを形成し，クライアントが互いに会話するために接続するポイント，および他のサーバが IRC ネットワークを形成するために接続するポイントを提供します．IRC サーバに許されるネットワーク構成は，スパニングツリー（図1参照）のみで，各サーバは，それが見るネットの残りの部分に対して中心ノードとして機能します．</p>
<pre><code>             [ Server 15 ]   [ Server 13 ]      [ Server 14]
                 /                 \                /
                /                   \              /
        [ Server 11 ] ------ [ Server 1 ]    [ Server 12]
                              /        \        /
                             /          \      /
                  [ Server 2 ]        [ Server 3 ]
                    /       \                   \
                   /         \                   \
           [ Server 4 ]    [ Server 5 ]      [ Server 6 ]
            /    |   \                         /
           /     |    \                       /
          /      |     \____                 /
         /       |          \               /
[ Server 7 ] [ Server 8 ] [ Server 9 ] [ Server 10 ]
                                :
                             [ etc. ]
                                :
               [ Fig. 1. Format of IRC server network ]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="12-クライアント"><a class="header" href="#12-クライアント">1.2 クライアント</a></h1>
<p>クライアントとは，他のサーバではないサーバに接続するものです．各クライアントは，最大9文字の一意なニックネームによって他のクライアントと区別されます．ニックネームに使用できるもの，できないものについては，プロトコルの文法規則を参照してください．ニックネームに加えて，全てのサーバは全てのクライアントに関する以下の情報を 持っていなければなりません: クライアントが動作しているホストの実名，そのホスト上でのクライアントの ユーザ名，クライアントが接続しているサーバ．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="121-オペレータ"><a class="header" href="#121-オペレータ">1.2.1 オペレータ</a></h1>
<p>IRC ネットワーク内の秩序を保つために，特別なクライアント（オペレータ）がネットワーク上で一般的なメンテナンス機能を実行することが許されています．オペレータに与えられた権限は「危険」とみなされることもありますが，それにもかかわらず，それらは必要とされます．オペレータは，不正なネットワーク・ルーティングの長期使用を防ぐために，必要に応じてサーバの切断や再接続などの基本的なネットワーク・タスクを実行できるようにする必要があります．この必要性を認識し，ここで議論されるプロトコルは，オペレータのみがそのような機能を実行できるように規定しています．<a href="introduction/../message-details/server-quit-message.html">4.1.7 (SQUIT)</a> と <a href="introduction/../message-details/connect-message.html">4.3.5 (CONNECT)</a> の項を参照してください．</p>
<p>オペレータの権限でもっと議論を呼ぶのは，接続されたネットワークからユーザを「強制的」に排除する能力，つまりオペレータは任意のクライアントとサーバ間の接続を閉じることができることです．その乱用は破壊的で迷惑なものであるため，これを正当化するのは微妙なところです．この種の動作の詳細については，章 <a href="introduction/../message-details/kill-message.html">4.6.1 (KILL)</a> を参照してください．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="13-チャネル"><a class="header" href="#13-チャネル">1.3 チャネル</a></h1>
<p>チャネルは，そのチャネル宛てのメッセージをすべて受信する，1つまたは複数のクライアントの名前付きグループです．チャネルは，最初のクライアントが参加したときに暗黙のうちに作成され，最後のクライアントが離脱したときに消滅します．チャネルが存在する間は，どのクライアントもチャネルの名前を使用してチャネルを参照することができます．</p>
<p>チャネル名は，200文字以内の文字列（’＆’ または ’#’ で始まる文字）です．最初の文字が ’&amp;’ または ’#’ であるという条件を除けば，チャネル名の唯一の制限は，スペース（’ ’），コントロール G（^G または ASCII 7），カンマ（’,’ はプロトコルではリスト項目の区切りとして使われます）を含まないということです．</p>
<p>このプロトコルでは，2種類のチャネルが認められています．1つは，ネットワークに接続されているすべてのサーバが知っている分散チャネルです．これらのチャネルは，最初の文字が，そのチャネルが存在するサーバ上のクライアントのみが参加できることでマークされています．これらのチャネルは，先頭の ’&amp;’ 文字で区別されます．この2つのタイプの他に，個々のチャネルの特性を変更するために，様々なチャネルモードがあります．これについての詳細は <a href="introduction/channels.html#423-mode-message">4.2.3 (MODE コマンド)</a> を参照してください．</p>
<p>新しいチャネルを作成したり，既存のチャネルの一部になるには，ユーザはチャネルに参加する必要があります．参加する前にチャネルが存在しない場合，チャネルは作成され，作成ユーザはチャネルオペレータになります．チャネルが既に存在する場合，そのチャネルへの JOIN 要求が受け入れられるかどうかは，チャネルの現在のモードによって異なります．たとえば，チャネルが招待制 (+i) の場合，あなたは招待された場合のみ参加できます．プロトコルの一部として，ユーザは同時に複数のチャネルに参加することができますが，経験豊富なユーザと初心者ユーザの両方にとって十分であるとして，10チャネルに制限することが推奨されています．これについては，<a href="introduction/channels.html#813-channel-membership">8.13 Channel membership</a>を参照してください．</p>
<p>2つのサーバ間の分割によりIRCネットワークが分断された場合，それぞれの側のチャネルは，分割されたそれぞれの側のサーバに接続されているクライアントのみで構成され，分割された一方の側で存在しなくなる可能性があります．分割が完了すると，接続サーバはそれぞれのチャネルにいると思われる人とそのチャネルのモードを互いに発表します．チャネルが両側に存在する場合，JOIN と MODE は包括的に解釈され，新しい接続の両側が，どのクライアントがチャネルにいるか，チャネルがどのようなモードを持っているかについて合意するようにします．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="131-チャネルオペレータ"><a class="header" href="#131-チャネルオペレータ">1.3.1 チャネルオペレータ</a></h1>
<p>あるチャネルのチャネル・オペレータ（「チョップ」または「チャノップ」とも呼ばれる）は，そのチャネルを「所有」しているとみなされます．このステータスを認識し，チャネル・オペレータは自分のチャネルをコントロールし，ある種の健全性を保つことができる一定の権限を与えられています．しかし，彼らの行動が一般的に反社会的であったり，虐待的である場合，IRC オペレータに介入を依頼したり，ユーザが他のチャネルに移動して，自分たちのチャネルを形成することは妥当なことかもしれません．</p>
<p>チャネルオペレータのみが使用できるコマンドは以下の通りです．</p>
<pre><code>KICK      - クライアントをチャネルから退出させる
MODE      - チャネルのモードを変更する
INVITE    - クライアントを招待制のチャネルに招待する（モード +i）
TOPIC     - モード +t のチャネルのチャネルトピックを変更する
</code></pre>
<p>チャネルオペレータは，チャネルに関連づけられたときに（NAMES, WHO, WHOIS コマンドへの返信など），ニックネームの隣にある ’@’ 記号で識別されます．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2-irc-の規格"><a class="header" href="#2-irc-の規格">2 IRC の規格</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="21-概要"><a class="header" href="#21-概要">2.1 概要</a></h1>
<p>本書で説明するプロトコルは，サーバ間接続とクライアントからサーバへの接続の両方に使用することができます．ただし，クライアント接続（信用できないとされる）には，サーバ接続よりも多くの制約があります．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="22-文字コード"><a class="header" href="#22-文字コード">2.2 文字コード</a></h1>
<p>特定の文字セットは指定しません．プロトコルは，8 ビットで構成されるオクテットという符号体系を基本としています．各メッセージはこのオクテットの数で構成されますが，一部のオクテット値はメッセージの区切りとなる制御コードに使用されます．</p>
<p>8 ビットプロトコルであるにもかかわらず，デリミタとキーワードがあるため，USASCII ターミナルと telnet 接続でほとんど使用可能です．</p>
<p>IRC はスカンジナビア語が起源なので，<code>{}</code>, <code>|</code> という文字はそれぞれ <code>[]</code>, <code>\</code> という文字に相当する小文字とみなされます．これは，2つのニックネームの等価性を判断する際に重要な問題です．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="23-メッセージ"><a class="header" href="#23-メッセージ">2.3 メッセージ</a></h1>
<p>サーバとクライアントは互いにメッセージを送り合い，返信が発生することもあればしないこともあります．メッセージに有効なコマンドが含まれている場合，後の章で説明するように，クライアントは指定されたとおりの返信を期待すべきですが，返信を永遠に待つことはお勧めできません．クライアントからサーバ，サーバからサーバへの通信は，本質的に非同期的な性質を持っています．</p>
<p>各 IRC メッセージは，プレフィックス（オプション），コマンド，コマンド・パラメータ（最大15個まで）の3つの主要部分から構成されます．プレフィックス，コマンド，およびすべてのパラメータは，1つ（または複数）の ASCII スペース文字（0x20）で区切られます．</p>
<p>プリフィックスの存在は，先頭の ASCII コロン文字（’:’，0x3b）1つで示され，これはメッセージ自体の最初の文字でなければなりません．コロンとプレフィックスの間に隙間（ホワイトスペース）があってはいけません．プレフィックスは，サーバがメッセージの本当の出所を示すために使われます．メッセージにプレフィックスがない場合，そのメッセージは受信した接続から発信されたものとみなされます．クライアントは自分自身からメッセージを送るときには prefix を使うべきではありません． もし prefix を使うなら，有効な prefix はそのクライアントに関連付けられた登録済みの ニックネームだけです．プレフィックスによって識別される送信元がサーバの内部データベースから見つからない場合，あるいは送信元がメッセージの到着元とは異なるリンクから登録されている場合，サーバはそのメッセージを黙って無視しなければなりません．</p>
<p>コマンドは，有効な IRC コマンドか，ASCII テキストで表現された(3)桁の数字でなければなりません．</p>
<p>IRC メッセージは常に CR-LF（Carriage Return - Line Feed）ペアで終了する文字列であり，メッセージの長さは最後の CR-LF を含むすべての文字を含めて512文字以下でなければなりません．したがって，コマンドとそのパラメータに許容される文字数は最大510文字です．継続メッセージ行の規定はありません．現在の実装の詳細については，章<a href="the-irc-specification/../client-and-server-authentication/index.html">7. クライアントとサーバーの認証</a>を参照してください．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="231-疑似-bnf-によるメッセージ形式"><a class="header" href="#231-疑似-bnf-によるメッセージ形式">2.3.1 <code>疑似</code> BNF によるメッセージ形式</a></h1>
<p>プロトコルメッセージは，オクテットの連続したストリームから抽出されなければなりません．現在の解決策は，CR と LF という2つの文字をメッセージのセパレータとして指定することです．空のメッセージは黙って無視されるので，メッセージ間で CR-LF のシーケンスが余分な問題なく使用できるようになります．</p>
<p>抽出されたメッセージは，&lt;prefix&gt;，&lt;command&gt; という要素と，&lt;middle&gt; または &lt;trailing&gt; のどちらかの要素でマッチするパラメータのリストに解析されます．</p>
<p>これを BNF で表現すると</p>
<pre><code>&lt;message&gt;  ::= [’:’ &lt;prefix&gt; &lt;SPACE&gt; ] &lt;command&gt; &lt;params&gt; &lt;crlf&gt;
&lt;prefix&gt;   ::= &lt;servername&gt; | &lt;nick&gt; [ ’!’ &lt;user&gt; ] [ ’@’ &lt;host&gt; ]
&lt;command&gt;  ::= &lt;letter&gt; { &lt;letter&gt; } | &lt;number&gt; &lt;number&gt; &lt;number&gt;
&lt;SPACE&gt;    ::= ’ ’ { ’ ’ }
&lt;params&gt;   ::= &lt;SPACE&gt; [ ’:’ &lt;trailing&gt; | &lt;middle&gt; &lt;params&gt; ]
&lt;middle&gt;   ::= &lt;SPACE，NUL，CR，LFを含まない，*空でない*オクテットのシーケンス． その最初の文字が’:’であってはならない．&gt;
&lt;trailing&gt; ::= &lt;NUL，CR，LF を含まない，任意の（場合によっては*空白の*）オクテット列&gt;
&lt;crlf&gt;     ::= CR LF
</code></pre>
<p>NOTES:</p>
<ol>
<li>&lt;SPACE&gt; は，スペース文字（0x20）のみで構成されます．特に，TABULATION と他のすべての制御文字は非空白文字とみなされます．</li>
<li>パラメータリスト抽出後，&lt;middle&gt; でマッチングしても &lt;trailing&gt; でマッチングしても，すべてのパラメータは等しくなります．&lt;trailing&gt; は，パラメータ内の SPACE を許容するための構文上のトリックに過ぎません．</li>
<li>パラメータ文字列に CR と LF が出現しないのは，メッセージのフレームワークのせいです．これは後で変更されるかもしれません．</li>
<li>NUL 文字はメッセージのフレーム化において特別なものではなく，基本的にはパラメータの内部で終わる可能性がありますが，通常の C の文字列処理において余分な複雑さを引き起こすため，この文字は使用できません．したがって，NUL はメッセージの中では許されません．</li>
<li>最後のパラメータには，空文字列を指定することができます．</li>
<li>拡張プレフィックス（[’!’ &lt;user&gt; ] [’@’ &lt;host&gt; ]）の使用は，サーバ間通信では使用してはならず，サーバからクライアントへのメッセージに限り，追加の問い合わせを必要とせずにメッセージの送信元に関するより有用な情報をクライアントに提供するために意図されています．</li>
</ol>
<p>ほとんどのプロトコルメッセージは，リスト内の位置によって，抽出されたパラメータ文字列の追加のセマンティクスとシンタックスを指定しています．例えば，多くのサーバコマンドは，コマンドの後の最初のパラメータがターゲットのリストであると仮定し，これを記述することができます．</p>
<pre><code>&lt;target&gt;     ::= &lt;to&gt; [ &quot;,&quot; &lt;target&gt; ]
&lt;to&gt;         ::= &lt;channel&gt; | &lt;user&gt; ’@’ &lt;servername&gt; | &lt;nick&gt; | &lt;mask&gt;
&lt;channel&gt;    ::= (’#’ | ’&amp;’) &lt;chstring&gt;
&lt;servername&gt; ::= &lt;host&gt;
&lt;host&gt;       ::= see RFC 952 [DNS:4] for details on allowed hostnames
&lt;nick&gt;       ::= &lt;letter&gt; { &lt;letter&gt; | &lt;number&gt; | &lt;special&gt; }
&lt;mask&gt;       ::= (’#’ | ’$’) &lt;chstring&gt;
&lt;chstring&gt;   ::= &lt;any 8bit code except SPACE, BELL, NUL, CR, LF and comma (’,’)&gt;
</code></pre>
<p>その他のパラメータ構文は以下の通りです．</p>
<pre><code>&lt;user&gt;     ::= &lt;nonwhite&gt; { &lt;nonwhite&gt; }
&lt;letter&gt;   ::= ’a’ ... ’z’ | ’A’ ... ’Z’
&lt;number&gt;   ::= ’0’ ... ’9’
&lt;special&gt;  ::= ’-’ | ’[’ | ’]’ | ’\’ | ’‘’ | ’^’ | ’{’ | ’}’
&lt;nonwhite&gt; ::= &lt;any 8bit code except SPACE (0x20), NUL (0x0), CR (0xd), and LF (0xa)&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="24-数値返信"><a class="header" href="#24-数値返信">2.4 数値返信</a></h1>
<p>サーバに送信されたメッセージのほとんどは，何らかの応答を生成します．最も一般的な返信は数値による返信で，エラーと正常な返信の両方に使用されます．数値による返信は，送信者プレフィックス，3桁の数値，リプライのターゲットからなる1つのメッセージとして送信する必要があります．数値による応答は，クライアントから発信することはできないので，サーバが受信したそのようなメッセージは静かに削除されます．キーワードが文字列ではなく3桁の数字で構成されていることを除けば，他のすべての点で，数値による返信は通常のメッセージと同じである．さまざまな返信のリストは章<a href="the-irc-specification/../replies/index.html">6. 返信</a>に記載されています．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="3-irc-コンセプト"><a class="header" href="#3-irc-コンセプト">3. IRC コンセプト</a></h1>
<p>この章では，IRC プロトコルの構成の背後にある実際の概念と，現在の実装がどのようにメッセージの異なるクラスを提供するかを説明することに専念します．</p>
<pre><code>    1--\
        A        D---4
    2--/ \      /
          B----C
         /      \
        3        E
 Servers: A, B, C, D, E Clients: 1, 2, 3, 4
 [ Fig. 2. Sample small IRC network ]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="31-1対1のコミュニケーション"><a class="header" href="#31-1対1のコミュニケーション">3.1 1対1のコミュニケーション</a></h1>
<p>サーバとサーバのトラフィックのほとんどは，サーバ同士が会話しているわけではないため，1対1の通信は通常クライアントのみが行います．クライアントが互いに会話するための安全な手段を提供するためには，すべてのサーバが，任意のクライアントに到達するために，スパニングツリーに沿って正確に一方向にメッセージを送信できることが必要です．メッセージが配送される経路は，スパニングツリー上の任意の2点間の最短経路です．</p>
<pre><code>    1--\
        A        D---4
    2--/ \      /
          B----C
         /      \
        3        E
 Servers: A, B, C, D, E Clients: 1, 2, 3, 4
 [ Fig. 2. Sample small IRC network ]
</code></pre>
<p>以下の例は，すべて上記の図2を参照しています．</p>
<ul>
<li>
<p>例 1：</p>
<p>クライアント 1 とクライアント 2 間のメッセージは，サーバ A だけが見ることができ，サーバ A はメッセージをそのままクライアント 2 に送ります．</p>
</li>
<li>
<p>例 2：</p>
<p>クライアント 1 とクライアント 3 間のメッセージは，サーバ A と B，クライアント 3 が見ることができます．他のクライアントやサーバはメッセージを見ることができません．</p>
</li>
<li>
<p>例 3：</p>
<p>クライアント 2 と 4 の間のメッセージは，サーバ A，B，C，D とクライアント 4 だけが見ることができます．</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="32-1対多"><a class="header" href="#32-1対多">3.2 1対多</a></h1>
<p>IRC の主な目的は，簡単かつ効率的にコンファレンス（1対多の会話）を行うことができるフォーラムを提供することです．IRC はこれを実現するためにいくつかの手段を提供しており，それぞれが独自の目的をもっています．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="321-1対リスト"><a class="header" href="#321-1対リスト">3.2.1 1対リスト</a></h1>
<p>1対多の会話で最も効率が悪いのは，クライアントがユーザの ’リスト’ と会話するスタイルです．クライアントがメッセージの配送先のリストを与えると，サーバはそれを分割して，指定された配送先ごとにメッセージのコピーを送信します．これは，宛先リストが分割され，各経路に重複して送信されないことを確認せずにディスパッチが送信されるため，グループを使用する場合よりも効率的ではありません．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="332-1対グループチャネル"><a class="header" href="#332-1対グループチャネル">3.3.2 1対グループ（チャネル）</a></h1>
<p>IRC では，チャネルはマルチキャストグループと同等の役割を持っています．その存在は動的であり（人々がチャネルに参加したり離れたりすることで行ったり来たりします），チャネル上で行われる実際の会話は，与えられたチャネル上のユーザをサポートしているサーバにのみ送信されます．同じチャネルのサーバに複数のユーザがいる場合，メッセージテキストはそのサーバに一度だけ送信され，その後チャネル内の各クライアントに送信されます．この動作は，元のメッセージが広がってチャネルの各メンバーに到達するまで，クライアントとサーバの組み合わせごとに繰り返されます．</p>
<pre><code>    1--\
        A        D---4
    2--/ \      /
          B----C
         /      \
        3        E
 Servers: A, B, C, D, E Clients: 1, 2, 3, 4
 [ Fig. 2. Sample small IRC network ]
</code></pre>
<p>以下の例は，すべて図2を参照しています．</p>
<ul>
<li>
<p>例 4：</p>
<p>クライアントが 1 人いる任意のチャネル．チャネルへのメッセージはサーバに送られ，それ以外の場所には送られません．</p>
</li>
<li>
<p>例 5：</p>
<p>チャネル内の 2 クライアント．すべてのメッセージは，チャネルの外にいる2つのクライアント間のプライベートメッセージであるかのように経路を通過します．</p>
</li>
<li>
<p>例 6：</p>
<p>クライアント 1，2，3 がチャネルを持つ．チャネルへのすべてのメッセージは，すべてのクライアントに送信され，それが単一のクライアントへのプライベートメッセージである場合，メッセージが通過しなければならないサーバにのみ送信されます．クライアント 1 がメッセージを送信すると，それはクライアント 2 に戻り，サーバ B を経由してクライアント 3 に届きます．</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="323-1対ホストサーバーマスク"><a class="header" href="#323-1対ホストサーバーマスク">3.2.3 1対ホスト/サーバーマスク</a></h1>
<p>IRC の運営者が，関連する多くのユーザにメッセージを送るための何らかの仕組みを提供するために，ホストとサーバのマスクメッセージが提供されています．これらのメッセージは，ホストまたはサーバ情報がマスクに一致するユーザに送られます．メッセージは，チャネルと同様の方法で，ユーザがいる場所にのみ送信されます．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="33-1対全"><a class="header" href="#33-1対全">3.3 1対全</a></h1>
<p>1対全のメッセージはブロードキャストメッセージと呼ばれ，すべてのクライアントまたはサーバ，あるいはその両方に送信されます．ユーザとサーバからなる大規模なネットワークでは，1つのメッセージによって，希望するすべての宛先に到達するために，ネットワーク上で多くのトラフィックが送信されることになります．</p>
<p>メッセージによっては，各サーバが持つ状態情報がサーバ間で適度に整合するように，全サーバにブロードキャストする以外の選択肢はありません．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="331-クライアント対全クライアント"><a class="header" href="#331-クライアント対全クライアント">3.3.1 クライアント対全クライアント</a></h1>
<p>1つのメッセージから，他のすべてのクライアントにメッセージが送信されるようなメッセージのクラスは存在しません．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="332-クライアント対サーバ"><a class="header" href="#332-クライアント対サーバ">3.3.2 クライアント対サーバ</a></h1>
<p>状態情報の変更をもたらすコマンド（チャネルメンバーシップ，チャネルモード，ユーザステータスなど）のほとんどは，デフォルトですべてのサーバに送信されなければならず，この配布はクライアントによって変更することができません．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="333-サーバ対サーバ"><a class="header" href="#333-サーバ対サーバ">3.3.3 サーバ対サーバ</a></h1>
<p>サーバ間のほとんどのメッセージは，すべての’他の’サーバに配布されますが，これは，ユーザ，チャネル，サーバのいずれかに影響を与えるメッセージにのみ必要です．これらは IRC で見られる基本的な項目ですので，あるサーバから発信されたほぼすべてのメッセージは，接続されている他のすべてのサーバにブロードキャストされます．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4-メッセージ詳細"><a class="header" href="#4-メッセージ詳細">4. メッセージ詳細</a></h1>
<p>以下のページでは，IRC サーバとクライアントが認識する各メッセージについて説明します．この章で説明されているすべてのコマンドは，このプロトコルのための任意のサーバで実装されている必要があります．</p>
<p>ERR_NOSUCHSERVER が記載されている場合，パラメータが見つからなかったことを意味します．サーバはこれ以降，そのコマンドに対して他の応答を送ってはなりません．</p>
<p>クライアントが接続されているサーバは，メッセージ全体を解析し，適切なエラーを返すことが要求されます．メッセージの解析中に致命的なエラーが発生した場合，クライアントにエラーを返し，解析は終了しなければなりません．致命的なエラーとは，不正なコマンド，サーバにとって未知の宛先（サーバ名，ニックネーム，チャネル名がこれに該当），十分なパラメータがない，不正な権限などが考えられます．</p>
<p>パラメータの完全なセットが提示された場合，それぞれの有効性をチェックし，適切なレスポンスをクライアントに返さなければなりません．コンマを区切り文字としてパラメータリストを使用するメッセージの場合，各項目に対して応答を送信しなければなりません．</p>
<p>以下の例では，一部のメッセージはフルフォーマットで表示されます．</p>
<pre><code>:Name COMMAND parameter list
</code></pre>
<p>このような例は，サーバ間で転送中の「名前」からのメッセージを表し，リモートサーバが正しい経路で返信できるように，メッセージの元の送信者の名前を含めることが重要です．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="41-接続登録"><a class="header" href="#41-接続登録">4.1 接続登録</a></h1>
<p>ここで説明するコマンドは，IRC サーバにユーザまたはサーバとして接続を登録し，正しく切断するために使用されます．</p>
<p>&quot;PASS&quot; コマンドは，クライアント接続，サーバ接続のいずれにおいても登録する必要はありませんが，サーバメッセージまたは NICK/USER の組み合わせの後者に先行させる必要があります．実際の接続にある程度のセキュリティを与えるために，すべてのサーバ接続にパスワードを設定することを強くお勧めします．クライアントが登録する際の推奨順序は以下の通りです．</p>
<ol>
<li>Pass message</li>
<li>Nick message</li>
<li>User message</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="411-パスワードメッセージ"><a class="header" href="#411-パスワードメッセージ">4.1.1 パスワードメッセージ</a></h1>
<pre><code>Command   :  PASS
Parameters:  &lt;password&gt;
</code></pre>
<p>PASS コマンドは，’接続パスワード’を設定するために使用します．パスワードは，接続を登録しようとする前に設定することができ，また設定しなければなりません．現在，クライアントは NICK/USER の組み合わせを送信する前に PASS コマンドを送信する必要があり，サーバは SERVER コマンドの前に PASS コマンドを送信する必要があります．提供されるパスワードは，C/N ライン（サーバ用）または I ライン（クライアント用）に含まれるものと一致しなければなりません．登録前に複数の PASS コマンドを送信することは可能ですが，最後に送信されたものだけが検証に使用され，一度登録すると変更することはできません．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_ALREADYREGISTRED
</code></pre>
<p>例：</p>
<pre><code>    PASS secretpasswordhere
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="412-ニックネームメッセージ"><a class="header" href="#412-ニックネームメッセージ">4.1.2 ニックネームメッセージ</a></h1>
<pre><code>   Command:  NICK
Parameters:  &lt;nickname&gt; [ &lt;hopcount&gt; ]
</code></pre>
<p>NICK メッセージは，ユーザにニックネームを与えたり，以前のニックネームを変更するために使用されます．このパラメータは，ニックネームがホームサーバからどれくらい離れているかを示すために，サーバによってのみ使用されます．ローカル接続の場合，hopcount は 0 になります．クライアントから提供された場合，これは無視されなければなりません．</p>
<p>他のクライアントの同じニックネームを既に知っているサーバに NICK メッセージが到着した場合，ニックネームの衝突が発生します．ニックネームの衝突の結果，そのニックネームのすべてのインスタンスがサーバのデータベースから削除され，KILL コマンドが他のすべてのサーバのデータベースからそのニックネームを削除するために発行されます．衝突の原因となった NICK メッセージがニックネームの変更であった場合，元の（古い）ニックネームも同様に削除されなければなりません．</p>
<p>サーバが直接接続されているクライアントから同一の NICK を受信した場合，ローカルクライアントに ERR_NICKCOLLISION を発行して NICK コマンドを破棄し，kill を生成しないようにすることができます．</p>
<p>数値返信：</p>
<pre><code>    ERR_NONICKNAMEGIVEN   ERR_ERRONEUSNICKNAME
    ERR_NICKNAMEINUSE     ERR_NICKCOLLISION
</code></pre>
<p>例：</p>
<pre><code>NICK Wiz           ; 新しいニックネーム &quot;Wiz&quot; を紹介します．
:WiZ NICK Kilroy   ; WiZ が Kilroy にニックネームを変更しました．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="413-ユーザメッセージ"><a class="header" href="#413-ユーザメッセージ">4.1.3 ユーザメッセージ</a></h1>
<pre><code>Command   :  USER
Parameters:  &lt;username&gt; &lt;hostname&gt; &lt;servername&gt; &lt;realname&gt;
</code></pre>
<p>USER メッセージは，接続の最初に新しいユーザのユーザ名，ホスト名，サーバ名，実名 を指定するために使用されます．また，サーバ間の通信でも，新しいユーザが IRC に到着したことを示すために使われます．なぜなら，クライアントから USER と NICK の両方を受け取って初めて，ユーザが登録されるからです．</p>
<p>サーバ間では，USER の前にクライアントの NICKname を付ける必要があります．ホスト名とサーバ名は，通常，IRC サーバが直接接続されたクライアントから USER コマンドが来た場合には（セキュリティ上の理由から）無視されますが，サーバ間の通信では使用されることに注意してください．つまり，新しいユーザをネットワークの他の部分に紹介するときには，必ず NICK をリモートサーバに送信してから，付随する USER を送信しなければなりません．</p>
<p>realname パラメータは，スペース文字を含む可能性があるため，最後のパラメータとする必要があり，そのように認識されるようにコロン（’:’）を先頭に付ける必要があることに注意しなければなりません．</p>
<p>USER メッセージのみに依存すると，クライアントがユーザ名について簡単に嘘をつ くことができるため，「ID サーバ」の使用を推奨します．ユーザが接続するホストでこのようなサーバが有効になっている場合，ユーザ名は「ID サーバ」からの返信と同じように設定されます．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_ALREADYREGISTRED
</code></pre>
<p>例：</p>
<pre><code>USER guest tolmoon tolsun :Ronnie Reagan
        ; ユーザ名「guest」，本名「Ronnie Reagan」で登録されたユーザ

:testnick USER guest tolmoon tolsun :Ronnie Reagan
        ; USERコマンドが属するニックネームで，サーバ間でメッセージをやり取りします
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="414-サーバメッセージ"><a class="header" href="#414-サーバメッセージ">4.1.4 サーバメッセージ</a></h1>
<pre><code>   Command:  SERVER
Parameters:  &lt;user&gt; &lt;password&gt;
</code></pre>
<p>SERVER メッセージは，新しい接続の相手側がサーバであることをサーバに伝えるために使用されます．このメッセージは，サーバのデータをネット全体に渡すためにも使われます．新しいサーバがネットに接続されると，そのサーバに関する情報はネットワーク全体にブロードキャストされます．&lt;hopcount&gt; は，すべてのサーバがどの程度離れているかという内部情報を与えるために使用されます．完全なサーバリストがあれば，サーバツリー全体のマップを作成することが可能ですが，ホストマスクがそれを阻んでいます．</p>
<p>SERVER メッセージは，(a)まだ登録されておらず，サーバとして登録しようとしている接続，または(b)他のサーバへの既存の接続，この場合，SERVER メッセージはそのサーバの後ろに新しいサーバを導入している，のいずれかからのみ受け入れられなければなりません．</p>
<p>SERVER コマンドを受信したときに発生するエラーのほとんどは，宛先ホスト（ターゲット SERVER）によって接続が切断されることになります．ERROR コマンドにはいくつかの有用な特性があるため，エラー返信は通常，数値コマンドではなく，&quot;ERROR&quot; コマンドを使用して送信されます．</p>
<p>SERVER メッセージが解析され，受信側のサーバにすでに知られているサーバを紹介しようとした場合，サーバへの重複したルートが形成され，IRC ツリーの非周期性が壊れているため，そのメッセージからの接続は（正しい手順に従って）閉じられなければなりません．</p>
<p>数値返信：</p>
<pre><code>    ERR_ALREADYREGISTRED
</code></pre>
<p>例：</p>
<pre><code>SERVER test.oulu.fi 1 :[tolsun.oulu.fi] Experimental server
        ; 新しいサーバ test.oulu.fi が自己紹介し，登録を試みています．[]内の名前は，test.oulu.fiを実行しているホストのホスト名です．

:tolsun.oulu.fi SERVER csd.bu.edu 5 :BU Central Server
        ; サーバ tolsun.oulu.fi は，5ホップ離れた csd.bu.edu へのアップリンクです．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="415-オペレータメッセージ"><a class="header" href="#415-オペレータメッセージ">4.1.5 オペレータメッセージ</a></h1>
<pre><code>   Command:  OPER
Parameters:  &lt;user&gt; &lt;password&gt;
</code></pre>
<p>OPER メッセージは，一般ユーザがオペレータ権限を取得するために使用します．Operator 権限を取得するためには，&lt;user&gt; と &lt;password&gt; の組み合わせが必要です．</p>
<p>OPER コマンドを送信したクライアントが，指定されたユーザの正しいパスワードを提供した場合，サーバはクライアントのニックネームに対して &quot;MODE +o&quot; を発行して，新しいオペレータをネットワークの残りの部分に通知します．</p>
<p>OPER メッセージは，クライアント・サーバのみです．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    RPL_YOUREOPER
    ERR_NOOPERHOST        ERR_PASSWDMISMATCH
</code></pre>
<p>例：</p>
<pre><code>OPER foo bar    ; ユーザ名に &quot;foo&quot;，パスワードに &quot;bar&quot; を使ってオペレータ登録を試みます．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="416-終了メッセージ"><a class="header" href="#416-終了メッセージ">4.1.6 終了メッセージ</a></h1>
<pre><code>   Command:  QUIT
Parameters:  [&lt;Quit message&gt;]
</code></pre>
<p>クライアントのセッションは，QUIT メッセージで終了します．サーバは，QUIT メッセージを送信したクライアントとの接続を終了しなければなりません．&quot;Quit Message&quot; が指定された場合，デフォルトのメッセージである nickname の代わりにこれが送られます．</p>
<p>ネットスプリット（2つのサーバの接続が切れること）が発生した場合，QUIT メッセージは関係する2つのサーバの名前をスペースで区切って構成されます．最初の名前は，まだ接続しているサーバの名前であり，2番目の名前は，切断されたサーバの名前です．</p>
<p>その他の理由で，クライアントが QUIT コマンドを発行せずにクライアント接続を閉じた場合（例：クライアントが死亡し，ソケットで EOF が発生），サーバは，その原因となった事象の性質を反映した何らかのメッセージで，終了メッセージを埋める必要があります．</p>
<p>数値返信：</p>
<pre><code>    None.
</code></pre>
<p>例：</p>
<pre><code>QUIT :Gone to have lunch   ; 望ましいメッセージの形式
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="417-サーバ終了メッセージ"><a class="header" href="#417-サーバ終了メッセージ">4.1.7 サーバ終了メッセージ</a></h1>
<pre><code>   Command:  SQUIT
Parameters:  &lt;server&gt; &lt;comment&gt;
</code></pre>
<p>SQUIT メッセージは，終了したサーバや死んだサーバを伝えるために必要です．あるサーバが他のサーバとの接続を切断したい場合，SQUIT メッセージを他のサーバに送信する必要があります．その際，サーバパラメータとして他のサーバ名を指定します．</p>
<p>このコマンドは，IRC サーバのネットワークを秩序正しく接続するために，オペレータも利用できます．オペレータは，リモートサーバ接続のために SQUIT メッセージを発行することもできます．この場合，SQUIT はオペレータとリモートサーバの間にある各サーバによって解析されなければならず，以下に説明するように各サーバによって保持されるネットワークのビューが更新されます．</p>
<p>&lt;comment&gt; は，（現在接続していない）リモートサーバに対して SQUIT を実行するすべてのオペレータが，このアクションの理由を他のオペレータに認識させるために提供されるべきです．&lt;comment&gt; はまた，エラーまたは同様のメッセージを表示するサーバによって記入されます．</p>
<p>コネクションを閉じた側の両サーバは，そのリンクの背後にあると考えられる他のすべてのサーバのコネクションに対して SQUIT メッセージを送信することが要求されます．</p>
<p>同様に，QUIT メッセージは，そのリンクの背後にあるすべてのクライアントに代わって，ネットワークの他の接続されたサーバの残りの部分に送信されなければなりません．これに加えて，分割によってメンバーを失ったチャネルの全メンバーに QUIT メッセージを送信しなければなりません．</p>
<p>サーバ接続が早期に切断された場合（リンクの反対側のサーバが死んだなど），この切断を検出したサーバは，ネットワークの残りの部分に接続が終了したことを通知し，コメントフィールドに適切な内容を記入する必要があります．</p>
<p>数値返信：</p>
<pre><code>    ERR_NOPRIVILEGES    ERR_NOSUCHSERVER
</code></pre>
<p>例：</p>
<pre><code>SQUIT tolsun.oulu.fi :Bad Link?
        ; サーバのリンク tolson.oulu.fi は &quot;Bad Link&quot; のため終了されました．

:Trillian SQUIT cm22.eng.umd.edu :Server out of control
        ; Trillianから，&quot;Server out of control&quot; のため，&quot;cm22.eng.umd.edu&quot; をネットから切断するようにとのメッセージが表示されました．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="42-チャネル操作"><a class="header" href="#42-チャネル操作">4.2 チャネル操作</a></h1>
<p>このメッセージ群は，チャネル，そのプロパティ（チャネルモード），およびそのコンテンツ（通常はクライアント）を操作することに関係しています．これらの実装では，ネットワークの反対側の端にいるクライアントがコマンドを送ると，最終的に衝突してしまうため，多くの競合状態が避けられない．また，パラメータが与えられると，それが最近変更された場合に備えてサーバがその履歴をチェックすることを確実にするために，サーバがニックネームの履歴を保持することが要求されます．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="421-参加メッセージ"><a class="header" href="#421-参加メッセージ">4.2.1 参加メッセージ</a></h1>
<pre><code>   Command:  JOIN
Parameters:  &lt;channel&gt;{,&lt;channel&gt;} [&lt;key&gt;{,&lt;key&gt;}]
</code></pre>
<p>JOIN コマンドは，クライアントが特定のチャネルのリスニングを開始するために使用されます．クライアントがチャネルに参加できるかどうかは，クライアントが接続しているサーバのみが確認します．他のサーバは，他のサーバからチャネルを受信すると，自動的にユーザをチャネルに追加します．これに影響する条件は以下の通りです．</p>
<ol>
<li>チャネルが招待制である場合，ユーザは招待されていなければなりません．</li>
<li>ユーザのニックネーム/ユーザ名/ホスト名は，アクティブな禁止事項にマッチしてはいけません．</li>
<li>正しいキー(パスワード)が設定されている場合は，それを入力しなければなりません．</li>
</ol>
<p>これらについては，MODE コマンドで詳しく説明します（詳細は<a href="message-details/./mode-message.html">4.2.3 モードメッセージ</a>の章を参照してください）．</p>
<p>ユーザがチャネルに参加すると，そのチャネルに影響を与えるサーバが受け取るすべてのコマンドに関する通知を受け取ります．これには，MODE，KICK，PART，QUIT や，もちろん PRIVMSG/NOTICE が含まれます．JOIN コマンドは，各サーバがチャネルに参加しているユーザをどこで見つけることができるかを知るために，すべてのサーバにブロードキャストされる必要があります．これにより，PRIVMSG/NOTICE メッセージのチャネルへの最適な配信が可能になります．</p>
<p>JOIN が成功すると，ユーザにチャネルのトピック（RPL_TOPIC を使用）とチャネルに参加しているユーザのリスト（RPL_NAMREPLY を使用）が送られますが，これには参加しているユーザを含める必要があります．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_BANNEDFROMCHAN
    ERR_INVITEONLYCHAN    ERR_BADCHANNELKEY
    ERR_CHANNELISFULL     ERR_BADCHANMASK
    ERR_NOSUCHCHANNEL     ERR_TOOMANYCHANNELS
    RPL_TOPIC
</code></pre>
<p>例：</p>
<pre><code>JOIN #foobar                ; チャネル #foobar に参加します．

JOIN &amp;foo fubar             ; &quot;fubar&quot; をキーにチャネル &amp;foo に参加します．

JOIN #foo,&amp;bar fubar        ; チャネル #foo にキー &quot;fubar&quot; で，&amp;bar にキー無しで参加します．

JOIN #foo,#bar fubar,foobar ; キー &quot;fubar&quot; を使ってチャネル #foo に参加し，キー &quot;foobar&quot; を使ってチャネル #bar に参加します．

JOIN #foo,#bar              ; チャネル #foo と #bar に参加します．

:WiZ JOIN #Twilight_zone    ; WiZ からの JOIN メッセージ
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="422-パートメッセージ"><a class="header" href="#422-パートメッセージ">4.2.2 パートメッセージ</a></h1>
<pre><code>   Command:  PART
Parameters:  &lt;channel&gt;{,&lt;channel&gt;}
</code></pre>
<p>PART メッセージは，メッセージを送信したクライアントを，パラメータ文字列で指定されたすべてのチャネルのアクティブユーザ一覧から削除します．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_NOSUCHCHANNEL
    ERR_NOTONCHANNEL
</code></pre>
<p>例：</p>
<pre><code>PART #twilight_zone    ; チャネル &quot;#twilight_zone&quot; を離脱します．

PART #oz-ops,&amp;group5   ; &quot;&amp;group5&quot; と &quot;#oz-ops&quot; の両方のチャネルを離脱します．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="423-モードメッセージ"><a class="header" href="#423-モードメッセージ">4.2.3 モードメッセージ</a></h1>
<pre><code>Command: MODE
</code></pre>
<p>MODE コマンドは，IRC では2つの用途を持つコマンドです．これはユーザ名とチャネルの両方にモードを変更させることができます．この選択の根拠は，いつの日かニックネームが廃れ，同等のプロパティがチャネルになることです．</p>
<p>MODE メッセージを解析する場合，まずメッセージ全体を解析し，その結果生じた変更を引き継ぐことをお勧めします．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4231-チャネルモード"><a class="header" href="#4231-チャネルモード">4.2.3.1 チャネルモード</a></h1>
<pre><code>Parameters:  &lt;channel&gt; {[+|-]|o|p|s|i|t|n|b|v} [&lt;limit&gt;] [&lt;user&gt;] [&lt;ban mask&gt;]
</code></pre>
<p>MODE コマンドは，チャネルオペレータが「自分の」チャネルの特性を変更できるように提供されています．また，チャネルオペレータを作成するために，サーバがチャネルモードを変更できることが要求されます．</p>
<p>チャネルに用意されている各種モードは以下の通りです．</p>
<pre><code>    o - チャネルオペレータの特権を与えます/奪います;
    p - プライベートチャネルフラグ;
    s - シークレットチャネルフラグ;
    i - 招待専用チャネルフラグ;
    t - チャネルオペレータだけが設定可能なトピックフラグ;
    n - 外部のクライアントからチャネルへのメッセージの受信を禁止します;
    m - モデレートされたチャネル;
    l - チャネルへのユーザ制限を設定します;
    b - ユーザを閉め出すためのバンマスクを設定します;
    v - モデレートされたチャネルで発言する能力を与えます/奪います;
    k - チャネルキー（パスワード）を設定します.
</code></pre>
<p>’o’ と ’b’ オプションを使用する場合，1つのモードコマンドにつき合計3つまでという制限が課されます．つまり，’o’ と ’b’ の組み合わせは，1つのモードコマンドにつき，合計3つまでという制限があります．</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4232-ユーザモード"><a class="header" href="#4232-ユーザモード">4.2.3.2 ユーザモード</a></h1>
<pre><code>Parameters:  &lt;nickname&gt; {[+|-]|i|w|s|o}
</code></pre>
<p>ユーザモードは通常，クライアントが他者からどのように見られるか，またはクライアントがどのような「追加」メッセージを送信するかに影響する変更です．ユーザ MODE コマンドは，メッセージの送信者とパラメータとして与えられたニックネームの両方が同じである場合にのみ受け入れることができます．</p>
<p>使用可能なモードは以下の通りです．</p>
<pre><code>    i - ユーザを非表示にします;
    s - サーバからのお知らせを受信するユーザをマークします;
    w - ユーザは，Wallops を受け取ります;
    o - オペレータフラグ．
</code></pre>
<p>後日，追加モードも用意される予定です．</p>
<p>ユーザが &quot;+o&quot; フラグを使用して自分自身をオペレータにしようとした場合，その試みは無視されるべきです．しかし，&quot;-o&quot; を使って自分自身をオペレータから外すことには何の制限もありません．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS      RPL_CHANNELMODEIS
    ERR_CHANOPRIVSNEEDED    ERR_NOSUCHNICK
    ERR_NOTONCHANNEL        ERR_KEYSET
    RPL_BANLIST             RPL_ENDOFBANLIST
    ERR_UNKNOWNMODE         ERR_NOSUCHCHANNEL

    ERR_USERSDONTMATCH      RPL_UMODEIS
    ERR_UMODEUNKNOWNFLAG
</code></pre>
<p>例：</p>
<pre><code>Use of Channel Modes:

MODE #Finnish +im       ; #Finish のチャネルをモデレートされた「招待制」にします．

MODE #Finnish +o Kilroy ; チャネル #Finnish で Kilroy に ’chanop’ 権限を付与します．

MODE #Finnish +v Wiz    ; WiZに #Finnish で発言するのを許可します．

MODE #Fins -s           ; チャネル #Fins から ’secret’ フラグを削除します．

MODE #42 +k oulu        ; チャネルキーを &quot;oulu&quot; に設定します．

MODE #eu-opers +l 10    ; チャネルのユーザ数制限を 10 に設定します．

MODE &amp;oulu +b           ; チャネルに設定されたバンマスクをリストアップします．

MODE &amp;oulu +b !@*       ; すべてのユーザを参加させないようにします．

MODE &amp;oulu +b !@*.edu   ; ホスト名が \*.edu に一致するユーザが参加できないようにします．

Use of user Modes:

:MODE WiZ -w            ; WiZ の WALLOPS メッセージの受信をオフにします．

:Angel MODE Angel +i    ; Angle からのメッセージを自分自身へ非表示にします．

MODE WiZ -o             ; WiZ をオペレータでなくします（オペレータの状態を解除する．）このコマンドの逆（&quot;MODE WiZ +o&quot;）は，OPER コマンドをバイパスしてしまうので，ユーザから許可されてはいけません．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="424-トピックメッセージ"><a class="header" href="#424-トピックメッセージ">4.2.4 トピックメッセージ</a></h1>
<pre><code>   Command:  TOPIC
Parameters:  &lt;channel&gt; [&lt;topic&gt;]
</code></pre>
<p>TOPIC メッセージは，チャネルのトピックを変更または表示するために使用されます．&lt;topic&gt; が指定されていない場合は，チャネル &lt;channel&gt; のトピックが返されます．&lt;topic&gt; パラメータがある場合，チャネルモードが許可していれば，そのチャネルのトピックが変更されます．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_NOTONCHANNEL
    RPL_NOTOPIC           RPL_TOPIC
    ERR_CHANOPRIVSNEEDED
</code></pre>
<p>例：</p>
<pre><code>:Wiz TOPIC #test :New topic    ;トピックを設定するユーザ Wiz．

TOPIC #test :another topic     ;#test のトピックを &quot;別のトピック&quot; に設定します．

TOPIC #test                    ; #test のトピックを確認します．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="425-ネームメッセージ"><a class="header" href="#425-ネームメッセージ">4.2.5 ネームメッセージ</a></h1>
<pre><code>   Command:  NAMES
Parameters:  [&lt;channel&gt;{,&lt;channel&gt;}]
</code></pre>
<p>NAMES コマンドを使用すると，ユーザが見ることのできるチャネルに表示されているすべてのニックネームをリストアップすることができます．表示されるチャネル名は，プライベート（+p）やシークレット（+s）でないもの，または実際に参加しているチャネル名です．パラメータは，有効な場合に情報を返すチャネルを指定します．不正なチャネル名に対するエラーの返事はありません．</p>
<p>&lt;channel&gt; パラメータが与えられない場合，すべてのチャネルとその占有者のリストが返されます．このリストの最後には，表示されているがどのチャネルにも入っていない，または表示されているチャネルに入っていないユーザのリストが ’channel’ &quot;*&quot; に入っているとしてリストアップされます．</p>
<p>Numerics:</p>
<pre><code>    RPL_NAMREPLY    RPL_ENDOFNAMES
</code></pre>
<p>例：</p>
<pre><code>NAMES #twilight_zone,#42
        ; #twilight_zone と #42 のチャネルが表示されている場合，表示されているユーザをリストアップします．

NAMES
        ; 表示されているすべてのチャネルとユーザをリストアップします．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="426-リストメッセージ"><a class="header" href="#426-リストメッセージ">4.2.6 リストメッセージ</a></h1>
<pre><code>   Command:  LIST
Parameters:  [&lt;channel&gt;{,&lt;channel&gt;} [&lt;server&gt;]]
</code></pre>
<p>LIST メッセージは，チャネルとそのトピックを一覧表示するために使用されます．&lt;channel&gt; パラメータを使用した場合，そのチャネルの状態のみが表示されます．プライベートチャネルは，クエリを生成したクライアントが実際にそのチャネルにいない限り，チャネル &quot;Prv&quot; としてリストされます（トピックは含まれません）．同様に，シークレットチャネルは，クライアントがそのチャネルのメンバーでない限り，まったく表示されません．</p>
<p>数値返信：</p>
<pre><code>    ERR_NOSUCHSERVER    RPL_LISTSTART
    RPL_LIST            RPL_LISTEND
</code></pre>
<p>例：</p>
<pre><code>LIST                       ;すべてのチャネルを一覧表示します．

LIST #twilight_zone,#42    ; #twilight_zone と #42 チェネルを一覧表示します．
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="427-招待メッセージ"><a class="header" href="#427-招待メッセージ">4.2.7 招待メッセージ</a></h1>
<pre><code>   Command:  INVITE
Parameters:  &lt;nickname&gt; &lt;channel&gt;
</code></pre>
<p>INVITE メッセージは，ユーザをチャネルに招待するために使用されます．パラメータ &lt;nickname&gt; には，ターゲットチャネル &lt;channel&gt; に招待する人のニックネームを指定します．招待されるターゲットユーザが存在すること，または有効なチャネルであることは要求されません．招待専用チャネル（MODE +i）にユーザを招待するには，招待を送信するクライアントがそのチャネルのチャネルオペレータとして認識されている必要があります．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_NOSUCHNICK
    ERR_NOTONCHANNEL      ERR_USERONCHANNEL
    ERR_CHANOPRIVSNEEDED
    RPL_INVITING          RPL_AWAY
</code></pre>
<p>例：</p>
<pre><code>:Angel INVITE Wiz #Dust      ; ユーザ Angel が WiZ をチャネル #Dust に招待しています．

INVITE Wiz #Twilight_Zone    ; WiZ を #Twilight_zone に招待するコマンド
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="428-追放メッセージ"><a class="header" href="#428-追放メッセージ">4.2.8 追放メッセージ</a></h1>
<pre><code>   Command:  KICK
Parameters:  &lt;channel&gt; &lt;user&gt; [&lt;comment&gt;]
</code></pre>
<p>KICK コマンドは，あるユーザをチャネルから強制的に排除するために使用します．これはチャネルから「追い出す」（forced PART）ことです．チャネルオペレータのみが他のユーザをチャネルから追い出すことができます．KICK メッセージを受信した各サーバは，それが有効であるかどうか（つまり，送信者が実際にチャネルオペレータであるかどうか）を，犠牲者をチャネルから追い出す前にチェックします．</p>
<p>数値返信：</p>
<pre><code>    ERR_NEEDMOREPARAMS    ERR_NOSUCHCHANNEL
    ERR_BADCHANMASK       ERR_CHANOPRIVSNEEDED
    ERR_NOTONCHANNEL
</code></pre>
<p>例：</p>
<pre><code>KICK &amp;Melbourne Matthew
        ; チャネル &amp;Melbourne から Matthew をキックします．

KICK #Finnish John :Speaking English
        ; 英語で話すことを理由（コメント）に #Finnish から John をキックします．

:WiZ KICK #Finnish John
        ; チャネル #Finnish から John を削除するという Wiz からのキックメッセージ．
</code></pre>
<p>NOTE:
KICK コマンドのパラメータを以下に拡張することが可能です．</p>
<pre><code>&lt;channel&gt;{,&lt;channel&gt;} &lt;user&gt;{,&lt;user&gt;} [&lt;comment&gt;]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="server-queries-and-commands"><a class="header" href="#server-queries-and-commands">Server queries and commands</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="version-message"><a class="header" href="#version-message">Version message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stats-message"><a class="header" href="#stats-message">Stats message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="links-message"><a class="header" href="#links-message">Links message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="time-message"><a class="header" href="#time-message">Time message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="connect-message"><a class="header" href="#connect-message">Connect message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="trace-message"><a class="header" href="#trace-message">Trace message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="admin-command"><a class="header" href="#admin-command">Admin command</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="info-command"><a class="header" href="#info-command">Info command</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sending-messages"><a class="header" href="#sending-messages">Sending messages</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="private-messages"><a class="header" href="#private-messages">Private messages</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notice"><a class="header" href="#notice">Notice</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-based-queries"><a class="header" href="#user-based-queries">User based queries</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="who-query"><a class="header" href="#who-query">Who query</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="whois-query"><a class="header" href="#whois-query">Whois query</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="whowas"><a class="header" href="#whowas">Whowas</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="miscellaneous-messages"><a class="header" href="#miscellaneous-messages">Miscellaneous messages</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kill-message"><a class="header" href="#kill-message">Kill message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ping-message"><a class="header" href="#ping-message">Ping message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pong-message"><a class="header" href="#pong-message">Pong message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="error"><a class="header" href="#error">Error</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="optionals"><a class="header" href="#optionals">OPTIONALS</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="away"><a class="header" href="#away">Away</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rehash-message"><a class="header" href="#rehash-message">Rehash message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="restart-message"><a class="header" href="#restart-message">Restart message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="summon-message"><a class="header" href="#summon-message">Summon message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="users"><a class="header" href="#users">Users</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operwall-message"><a class="header" href="#operwall-message">Operwall message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="userhost-message"><a class="header" href="#userhost-message">Userhost message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ison-message"><a class="header" href="#ison-message">Ison message</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="replies"><a class="header" href="#replies">REPLIES</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="error-replies"><a class="header" href="#error-replies">Error Replies.</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-responses"><a class="header" href="#command-responses">Command responses.</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reserved-numerics"><a class="header" href="#reserved-numerics">Reserved numerics.</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="client-and-server-authentication"><a class="header" href="#client-and-server-authentication">Client and server authentication</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current-implementations"><a class="header" href="#current-implementations">Current implementations</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="network-protocol-tcp---why-it-is-best-used-here"><a class="header" href="#network-protocol-tcp---why-it-is-best-used-here">Network protocol: TCP - why it is best used here.</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="support-of-unix-sockets"><a class="header" href="#support-of-unix-sockets">Support of Unix sockets</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-parsing"><a class="header" href="#command-parsing">Command Parsing</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="message-delivery"><a class="header" href="#message-delivery">Message delivery</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="connection-liveness"><a class="header" href="#connection-liveness">Connection ’Liveness’</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="establishing-a-server-to-client-connection"><a class="header" href="#establishing-a-server-to-client-connection">Establishing a server to client connection</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="establishing-a-server-server-connection"><a class="header" href="#establishing-a-server-server-connection">Establishing a server-server connection.</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="server-exchange-of-state-information-when-connecting"><a class="header" href="#server-exchange-of-state-information-when-connecting">Server exchange of state information when connecting</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="terminating-server-client-connections"><a class="header" href="#terminating-server-client-connections">Terminating server-client connections</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="terminating-server-server-connections"><a class="header" href="#terminating-server-server-connections">Terminating server-server connections</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tracking-nickname-changes"><a class="header" href="#tracking-nickname-changes">Tracking nickname changes</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flood-control-of-clients"><a class="header" href="#flood-control-of-clients">Flood control of clients</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="non-blocking-lookups"><a class="header" href="#non-blocking-lookups">Non-blocking lookups</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hostname-dns-lookups"><a class="header" href="#hostname-dns-lookups">Hostname (DNS) lookups</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="username-ident-lookups"><a class="header" href="#username-ident-lookups">Username (Ident) lookups</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration-file"><a class="header" href="#configuration-file">Configuration File</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="allowing-clients-to-connect"><a class="header" href="#allowing-clients-to-connect">Allowing clients to connect</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operators"><a class="header" href="#operators">Operators</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="allowing-servers-to-connect"><a class="header" href="#allowing-servers-to-connect">Allowing servers to connect</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="administrivia"><a class="header" href="#administrivia">Administrivia</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="channel-membership"><a class="header" href="#channel-membership">Channel membership</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current-problems"><a class="header" href="#current-problems">Current problems</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scalability"><a class="header" href="#scalability">Scalability</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="labels"><a class="header" href="#labels">Labels</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nicknames"><a class="header" href="#nicknames">Nicknames</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="channels"><a class="header" href="#channels">Channels</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="servers"><a class="header" href="#servers">Servers</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="algorithms"><a class="header" href="#algorithms">Algorithms</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="src/theme/theme-solarized_dark.js"></script>
        <script type="text/javascript" src="src/theme/theme-solarized_light.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
