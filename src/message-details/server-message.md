# 4.1.4 Server メッセージ

```
   Command:  SERVER
Parameters:  <user> <password>
```

SERVER メッセージは，新しい接続の相手側がサーバであることをサーバに伝えるために使用されます．このメッセージは，サーバのデータをネット全体に渡すためにも使われます．新しいサーバがネットに接続されると，そのサーバに関する情報はネットワーク全体にブロードキャストされます．`<hopcount>` は，すべてのサーバがどの程度離れているかという内部情報を与えるために使用されます．完全なサーバリストがあれば，サーバツリー全体のマップを作成することが可能ですが，ホストマスクがそれを阻んでいます．

SERVER メッセージは，(a)まだ登録されておらず，サーバとして登録しようとしている接続，または(b)他のサーバへの既存の接続，この場合，SERVER メッセージはそのサーバの後ろに新しいサーバを導入している，のいずれかからのみ受け入れられなければなりません．

SERVER コマンドを受信したときに発生するエラーのほとんどは，宛先ホスト（ターゲット SERVER）によって接続が切断されることになります．ERROR コマンドにはいくつかの有用な特性があるため，エラー返信は通常，数値コマンドではなく，"ERROR" コマンドを使用して送信されます．

SERVER メッセージが解析され，受信側のサーバにすでに知られているサーバを紹介しようとした場合，サーバへの重複したルートが形成され，IRC ツリーの非周期性が壊れているため，そのメッセージからの接続は（正しい手順に従って）閉じられなければなりません．

数値返信：
```
    ERR_ALREADYREGISTRED
```

例：
```
SERVER test.oulu.fi 1 :[tolsun.oulu.fi] Experimental server
        ; 新しいサーバ test.oulu.fi が自己紹介し，登録を試みています．[]内の名前は，test.oulu.fiを実行しているホストのホスト名です．

:tolsun.oulu.fi SERVER csd.bu.edu 5 :BU Central Server
        ; サーバ tolsun.oulu.fi は，5ホップ離れた csd.bu.edu へのアップリンクです．
```
